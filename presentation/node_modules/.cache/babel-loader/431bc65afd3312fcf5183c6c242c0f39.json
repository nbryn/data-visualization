{"ast":null,"code":"import { fetchFromServer } from \"../Fetch\";\nimport { setTokenInLocalStorage } from \"../../../security/Token\";\nexport const login = (username, password, history) => async dispatch => {\n  const data = `mutation signin {\n    data:\n     signin(input: {\n       username: \"${username}\"\n       password: \"${password}\"\n     })  \n     }`;\n  const response = await fetchFromServer(\"post\", data);\n  const error = response.data.data.data.error;\n\n  if (error) {\n    return \"Wrong Email/Username\";\n  } else {\n    setTokenInLocalStorage(response);\n    history.push(\"/dashboard\");\n  }\n};","map":{"version":3,"sources":["/home/nbryn/Desktop/Dashboard/presentation/src/redux/actions/user/LoginAction.js"],"names":["fetchFromServer","setTokenInLocalStorage","login","username","password","history","dispatch","data","response","error","push"],"mappings":"AAAA,SAASA,eAAT,QAAgC,UAAhC;AACA,SAASC,sBAAT,QAAuC,yBAAvC;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,QAAD,EAAWC,QAAX,EAAqBC,OAArB,KAAiC,MAAMC,QAAN,IAAkB;AACtE,QAAMC,IAAI,GAAI;;;oBAGIJ,QAAS;oBACTC,QAAS;;OAJ3B;AAQA,QAAMI,QAAQ,GAAG,MAAMR,eAAe,CAAC,MAAD,EAASO,IAAT,CAAtC;AAEA,QAAME,KAAK,GAAGD,QAAQ,CAACD,IAAT,CAAcA,IAAd,CAAmBA,IAAnB,CAAwBE,KAAtC;;AAEA,MAAIA,KAAJ,EAAW;AACT,WAAO,sBAAP;AACD,GAFD,MAEO;AACLR,IAAAA,sBAAsB,CAACO,QAAD,CAAtB;AAEAH,IAAAA,OAAO,CAACK,IAAR,CAAa,YAAb;AACD;AAEF,CArBM","sourcesContent":["import { fetchFromServer } from \"../Fetch\";\nimport { setTokenInLocalStorage } from \"../../../security/Token\";\n\nexport const login = (username, password, history) => async dispatch => {\n  const data = `mutation signin {\n    data:\n     signin(input: {\n       username: \"${username}\"\n       password: \"${password}\"\n     })  \n     }`;\n\n  const response = await fetchFromServer(\"post\", data);\n\n  const error = response.data.data.data.error;\n\n  if (error) {\n    return \"Wrong Email/Username\";\n  } else {\n    setTokenInLocalStorage(response);\n\n    history.push(\"/dashboard\");\n  }\n\n};\n"]},"metadata":{},"sourceType":"module"}