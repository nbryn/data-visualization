{"ast":null,"code":"import { USERS_STATS } from \"../ActionTypes\";\nimport { fetchFromServer } from \"../Fetch\";\nexport const fetchUserStats = () => async dispatch => {\n  const data = `query {\n    userStats{\n      userCount\n      usersLastMonth{\n        data{\n          day{\n            day\n            month\n            year\n          }\n          count\n        }\n      }\n      usersLastYear{\n        data{\n          year\n          month\n          count\n        }\n      }\n      userGenderStats{\n        value\n        count\n      }\n    }\n  }`;\n  const response = await fetchFromServer(\"post\", data);\n\n  if (response.data.errors) {\n    return response.data.errors[0].extensions.code;\n  } else {\n    dispatch({\n      type: USERS_STATS,\n      payload: response.data.data.userStats\n    });\n  }\n\n  return response.data.data.userStats;\n};","map":{"version":3,"sources":["/home/nbryn/Desktop/jamiipay/Projects/Own-Dashboard/presentation/src/redux/actions/kpi/UserStatsAction.js"],"names":["USERS_STATS","fetchFromServer","fetchUserStats","dispatch","data","response","errors","extensions","code","type","payload","userStats"],"mappings":"AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,eAAT,QAAgC,UAAhC;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACpD,QAAMC,IAAI,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;IAAd;AA2BA,QAAMC,QAAQ,GAAG,MAAMJ,eAAe,CAAC,MAAD,EAASG,IAAT,CAAtC;;AAEA,MAAIC,QAAQ,CAACD,IAAT,CAAcE,MAAlB,EAA0B;AACxB,WAAOD,QAAQ,CAACD,IAAT,CAAcE,MAAd,CAAqB,CAArB,EAAwBC,UAAxB,CAAmCC,IAA1C;AACD,GAFD,MAEO;AACLL,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAET,WADC;AAEPU,MAAAA,OAAO,EAAEL,QAAQ,CAACD,IAAT,CAAcA,IAAd,CAAmBO;AAFrB,KAAD,CAAR;AAID;;AAED,SAAON,QAAQ,CAACD,IAAT,CAAcA,IAAd,CAAmBO,SAA1B;AACD,CAxCM","sourcesContent":["import { USERS_STATS } from \"../ActionTypes\";\nimport { fetchFromServer } from \"../Fetch\";\n\nexport const fetchUserStats = () => async dispatch => {\n  const data = `query {\n    userStats{\n      userCount\n      usersLastMonth{\n        data{\n          day{\n            day\n            month\n            year\n          }\n          count\n        }\n      }\n      usersLastYear{\n        data{\n          year\n          month\n          count\n        }\n      }\n      userGenderStats{\n        value\n        count\n      }\n    }\n  }`;\n\n  const response = await fetchFromServer(\"post\", data);\n\n  if (response.data.errors) {\n    return response.data.errors[0].extensions.code;\n  } else {\n    dispatch({\n      type: USERS_STATS,\n      payload: response.data.data.userStats\n    });\n  }\n\n  return response.data.data.userStats;\n};\n"]},"metadata":{},"sourceType":"module"}