{"ast":null,"code":"import axios from \"axios\";\nimport { KEY_STATS } from \"../ActionTypes\";\nconst url = \"/graphql\";\nexport const fetchKeyStats = () => async dispatch => {\n  const data = `query{\n    keyStats{\n      userTotal\n      groupTotal\n      meetingTotal\n      shareTotal\n      userGender{\n        value\n        count\n       }\n       usersLastYear{\n        data{\n          month\n          count\n        }\n      }  \n     groupsLastMonth{\n        data{\n          count\n          day{\n            year\n            month\n            day\n          }     \n        }\n    }\n    groupsLastYear{\n        data{\n          month\n          count  \n        }\n      }\n    meetingsLastYear{\n        data{\n          month\n          count\n        }\n      }\n        \n    }\n    }`;\n  let response;\n\n  try {\n    response = await axios({\n      url,\n      method: \"post\",\n      data: {\n        query: data\n      }\n    });\n    dispatch({\n      type: KEY_STATS,\n      payload: response.data.data.keyStats\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"sources":["/home/nbryn/Desktop/jamiipay/jamiipay-web-dashboard/presentation/src/redux/actions/KPI/KeyStatsAction.js"],"names":["axios","KEY_STATS","url","fetchKeyStats","dispatch","data","response","method","query","type","payload","keyStats","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,gBAA1B;AAEA,MAAMC,GAAG,GAAG,UAAZ;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACnD,QAAMC,IAAI,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAd;AA0CA,MAAIC,QAAJ;;AAEA,MAAI;AACFA,IAAAA,QAAQ,GAAG,MAAMN,KAAK,CAAC;AACrBE,MAAAA,GADqB;AAErBK,MAAAA,MAAM,EAAE,MAFa;AAGrBF,MAAAA,IAAI,EAAE;AACJG,QAAAA,KAAK,EAAEH;AADH;AAHe,KAAD,CAAtB;AAQAD,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAER,SADC;AAEPS,MAAAA,OAAO,EAAEJ,QAAQ,CAACD,IAAT,CAAcA,IAAd,CAAmBM;AAFrB,KAAD,CAAR;AAID,GAbD,CAaE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CA7DM","sourcesContent":["import axios from \"axios\";\nimport { KEY_STATS } from \"../ActionTypes\";\n\nconst url = \"/graphql\";\n\nexport const fetchKeyStats = () => async dispatch => {\n  const data = `query{\n    keyStats{\n      userTotal\n      groupTotal\n      meetingTotal\n      shareTotal\n      userGender{\n        value\n        count\n       }\n       usersLastYear{\n        data{\n          month\n          count\n        }\n      }  \n     groupsLastMonth{\n        data{\n          count\n          day{\n            year\n            month\n            day\n          }     \n        }\n    }\n    groupsLastYear{\n        data{\n          month\n          count  \n        }\n      }\n    meetingsLastYear{\n        data{\n          month\n          count\n        }\n      }\n        \n    }\n    }`;\n\n  let response;\n\n  try {\n    response = await axios({\n      url,\n      method: \"post\",\n      data: {\n        query: data\n      }\n    });\n\n    dispatch({\n      type: KEY_STATS,\n      payload: response.data.data.keyStats\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}