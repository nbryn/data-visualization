{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar delegateToSchema_1 = require(\"./delegateToSchema\");\n\nfunction generateProxyingResolvers(targetSchema, transforms, mapping) {\n  var result = {};\n  Object.keys(mapping).forEach(function (name) {\n    result[name] = {};\n    var innerMapping = mapping[name];\n    Object.keys(innerMapping).forEach(function (from) {\n      var _a;\n\n      var to = innerMapping[from];\n      var resolverType = to.operation === 'subscription' ? 'subscribe' : 'resolve';\n      result[name][from] = (_a = {}, _a[resolverType] = createProxyingResolver(targetSchema, to.operation, to.name, transforms), _a);\n    });\n  });\n  return result;\n}\n\nexports.generateProxyingResolvers = generateProxyingResolvers;\n\nfunction generateSimpleMapping(targetSchema) {\n  var query = targetSchema.getQueryType();\n  var mutation = targetSchema.getMutationType();\n  var subscription = targetSchema.getSubscriptionType();\n  var result = {};\n\n  if (query) {\n    result[query.name] = generateMappingFromObjectType(query, 'query');\n  }\n\n  if (mutation) {\n    result[mutation.name] = generateMappingFromObjectType(mutation, 'mutation');\n  }\n\n  if (subscription) {\n    result[subscription.name] = generateMappingFromObjectType(subscription, 'subscription');\n  }\n\n  return result;\n}\n\nexports.generateSimpleMapping = generateSimpleMapping;\n\nfunction generateMappingFromObjectType(type, operation) {\n  var result = {};\n  var fields = type.getFields();\n  Object.keys(fields).forEach(function (fieldName) {\n    result[fieldName] = {\n      name: fieldName,\n      operation: operation\n    };\n  });\n  return result;\n}\n\nexports.generateMappingFromObjectType = generateMappingFromObjectType;\n\nfunction createProxyingResolver(schema, operation, fieldName, transforms) {\n  return function (parent, args, context, info) {\n    return delegateToSchema_1.default({\n      schema: schema,\n      operation: operation,\n      fieldName: fieldName,\n      args: {},\n      context: context,\n      info: info,\n      transforms: transforms\n    });\n  };\n}","map":null,"metadata":{},"sourceType":"script"}